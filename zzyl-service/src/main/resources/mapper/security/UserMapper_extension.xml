<!-- 自定义查询方法 -->
  <select id="selectAll" parameterType="com.zzyl.entity.User" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from sys_user
    <where>
      <if test="dataState != null and dataState != ''">
        AND data_state = #{dataState,jdbcType=CHAR}
      </if>
      <if test="realName != null and realName != ''">
        AND real_name LIKE CONCAT('%', #{realName,jdbcType=VARCHAR}, '%')
      </if>
      <if test="email != null and email != ''">
        AND email LIKE CONCAT('%', #{email,jdbcType=VARCHAR}, '%')
      </if>
      <if test="mobile != null and mobile != ''">
        AND mobile LIKE CONCAT('%', #{mobile,jdbcType=VARCHAR}, '%')
      </if>
      <if test="deptNo != null and deptNo != ''">
        AND dept_no = #{deptNo,jdbcType=VARCHAR}
      </if>
      <if test="postNo != null and postNo != ''">
        AND post_no = #{postNo,jdbcType=VARCHAR}
      </if>
      <if test="username != null and username != ''">
        AND username LIKE CONCAT('%', #{username,jdbcType=VARCHAR}, '%')
      </if>
      AND is_delete = 0
    </where>
    ORDER BY create_time DESC
  </select>

  <select id="selectByUsername" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from sys_user
    where username = #{username,jdbcType=VARCHAR}
    AND is_delete = 0
  </select>

  <select id="selectByOpenId" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from sys_user
    where open_id = #{openId,jdbcType=VARCHAR}
    AND is_delete = 0
  </select>

  <delete id="deleteByIds" parameterType="java.util.List">
    delete from sys_user
    where id in
    <foreach collection="list" item="id" open="(" close=")" separator=",">
      #{id,jdbcType=BIGINT}
    </foreach>
  </delete>

</mapper>